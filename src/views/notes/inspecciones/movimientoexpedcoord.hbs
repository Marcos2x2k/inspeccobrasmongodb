<script>

    function ShowName(name) {
        var writtenName = ""
        writtenName = document.getElementById(name).value;
        document.getElementById(name).value = formatToString(writtenName);
    }

    function formatToString(writtenName) {
        var tmp = writtenName.split(" ");
        var fullName;
        tmp.forEach(element => {
            if (fullName) {
                fullName = fullName + " " + element.charAt(0).toUpperCase() + element.slice(1).toLocaleLowerCase();
            } else {
                fullName = element.charAt(0).toUpperCase() + element.slice(1).toLocaleLowerCase();
            }
        })
        return fullName;
    }

    function ponerMayuscula(mayu) {
        let ex = document.getElementById(mayu);
        ex.value = ex.value.toUpperCase();
        //let ex = document.getElementById("numexpediente");
        //ex.value = ex.value.toUpperCase();
        //let y = document.getElementById("adremaexp");
        //y.value = y.value.toUpperCase();
    }


    function ponerminuscula(minus) {
        let ex = document.getElementById(minus);
        ex.value = ex.value.toLocaleLowerCase();
        //let ex = document.getElementById("correofiduciariopropsocio");
        //ex.value = ex.value.toLocaleLowerCase();
    }

    function EstadoCoordInspección() {
        var seleccioncoord = document.getElementById("estado");
        var resultadoinspeccion = document.getElementById("resultadoinspeccion");
        //var y = document.getElementById("fechaintimacion");
        if (seleccioncoord.selectedIndex == 1) {
            resultadoinspeccion.style.display = "hidden";
        } else {
            resultadoinspeccion.style.display = "block";
        }
    }

    function seleccionresinsp() {
        var seleccion = document.getElementById("resultadoinspeccion");
        var x = document.getElementById("fechaintimacion");
        if (seleccion.selectedIndex == 2) {
            x.style.display = "block";
            document.getElementById("horaintimacion").style.display = "block";
            document.getElementById("vencimientointimacion").style.display = "block";
        } else (seleccion.selectedIndex == 2) {
            document.getElementById("fechainfraccion").style.display = "block";
            document.getElementById("horainfraccion").style.display = "block";
            document.getElementById("vencimientoinfraccion").style.display = "block";
        }
    }

</script>

<div class="col-md-6 mx-auto">
    <div class="card">
        <div class="car-header mx-auto">
            <br />
            <h5 style="color:blue; text-decoration:underline; font-weight: bold;">
                Cambiar Estado de Coord.Inspección
            </h5>
        </div>
        <div class="card-body">
            <form action="/notes/expedcoordin/{{expedcoordinado._id}}?_method=PUT" method="POST">
                <div class="form-group">
                    Expediente Nº:
                    <input onkeyup="ponerMayuscula('numexpediente')" id="numexpediente" type="text" name="numexpediente"
                        class="form-control" placeholder="Expediente Nº" value="{{expedcoordinado.numexpediente}}"
                        disabled>
                </div>
                <div class="form-group">
                    Estado Coord.Inspección:
                    <select name="estado" id="estado" onclick="EstadoCoordInspección()">
                        <option value="Pendiente">Pendiente</option>
                        <option value="Realizado">Realizado</option>
                    </select>
                </div>
                <div style="color:red; display:none;" class="form-group">
                    <p>Resultado Inspección:</p>
                    <select name="resultadoinspeccion" id="resultadoinspeccion" onclick="seleccionresinsp()">
                        <option value="Se Realizo informe">Realizó informe</option>
                        <option value="No se pudo Verificar">No se pudo Verificar</option>
                        <option value="No se pudo Inspeccionar">No se pudo Inspeccionar</option>
                        <option value="Se Intimó">Se Intimó</option>
                        <option value="Se Infraccionó">Se Infraccionó</option>
                    </select>
                </div>
                <div style="color:red; display:none;" class="form-group">
                    Fecha Intimación:
                    <input type="date" id="fechaintimacion" name="fechaintimacion" class="form-control"></input>
                </div>
                <div style="color:red; display:none;" class="form-group">
                    Hora Intimación:
                    <input type="time" id="horaintimacion" name="horaintimacion" class="form-control"
                        placeholder="Fecha Hora Inspección"></input>
                </div>
                <div style="color:red; display:none;" class="form-group">
                    Vencimiento Intimación:
                    <input type="date" id="vencimientointimacion" name="vencimientointimacion" class="form-control"
                        placeholder="Fecha Hora Inspección"></input>
                </div>
                <div style="color:red; display:none;" class="form-group">
                    Fecha Infraccionó:
                    <input type="date" id="fechainfraccion" name="fechainfraccion" class="form-control"
                        placeholder="Fecha Hora Inspección"></input>
                </div>
                <div style="color:red; display:none;" class="form-group">
                    Hora Infraccionó:
                    <input type="time" id="horainfraccion" name="horainfraccion" class="form-control"
                        placeholder="Fecha Hora Inspección"></input>
                </div>
                <div class="form-group">
                    Código Inspector:
                    <input onkeyup="ShowName('codigoinspector')" type="text" id="codigoinspector" name="codigoinspector"
                        class="form-control" placeholder="Código Inspector" value="{{expedcoordinado.codigoinspector}}"
                        disabled />
                </div>
                <div class="form-group">
                    Inspector (NyA):
                    <input onkeyup="ShowName('inspector')" type="text" id="inspector" name="inspector"
                        class="form-control" placeholder="Inspector (NyA)" value="{{expedcoordinado.inspector}}"
                        disabled />
                </div>
                <div class="form-group">
                    Iniciador (NyA):
                    <input onkeyup="ShowName('iniciadornomyape')" type="text" id="iniciadornomyape"
                        name="iniciadornomyape" class="form-control" placeholder="Iniciador (NyA)"
                        value="{{expedcoordinado.iniciadornomyape}}" disabled />
                </div>
                <div class="form-group">
                    Domicilio:
                    <input onkeyup="ShowName('domicilio')" type="text" id="domicilio" name="domicilio"
                        class="form-control" placeholder="Domicilio" value="{{expedcoordinado.domicilio}}" disabled />
                </div>
                <div class="form-group">
                    Adrema Nº:
                    <input onkeyup="ponerMayuscula('adremaexp')" id="adremaexp" name="adremaexp" class="form-control"
                        placeholder="Nº Adrema" value="{{expedcoordinado.adremaexp}}" disabled></input>
                </div>
                <div class="form-group">
                    Fecha Inspección:
                    <input type="text" name="fechainicioentrada" class="form-control" placeholder="Fecha inicio entrada"
                        value="{{expedcoordinado.fechainspeccion}}" disabled></input>
                </div>
                <div class="form-group">
                    Hora Inspección:
                    <input type="text" name="horainspeccion" class="form-control" placeholder="Fecha Hora Inspección"
                        value="{{expedcoordinado.horainspeccion}}" disabled></input>
                </div>
                <p></p>
                <div class="form-group">
                    <button class="btn btn-primary btn-block" type="submit">
                        Grabar
                    </button>
                </div>
                <div class="form-group">
                    <a href="javascript:window.history.back();" style="color:blue; font-weight: bold;">
                        &laquo; Volver Atrás
                    </a>
                </div>
            </form>
        </div>
    </div>
</div>