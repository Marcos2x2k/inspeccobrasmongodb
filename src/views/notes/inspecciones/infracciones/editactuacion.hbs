<script>
    //carga al iniciar la pagina
    window.onload = function () {
        cargar_Sectores()
        //document.getElementById('botonfecha').click();
    }
    // funcion para Cargar Provincias al campo <select>
    function cargar_Sectores() {
        var todoslossectores = ["Obras", "Via-Publica", "Cartelería"];
        //const rolusuariosborrara = usuarios.rolusuario.toString();
        var sectortraido = document.getElementById("sectortraido").value;
        //elimina con el filter el sector traido del array
        var sectores = todoslossectores.filter(e => e != sectortraido);
        // Ordena el Array Alfabeticamente, es muy facil ;)):
        sectores.sort();
        addOptions("lugartipo", sectores);
    }
    // Rutina para agregar opciones a un <select>
    function addOptions(domElement, sectores) {
        var select = document.getElementsByName(domElement)[0];
        for (value in sectores) {
            var option = document.createElement("option");
            option.text = sectores[value];
            select.add(option);
        }
    }    

    function ShowName(name) {
        var writtenName = document.getElementById(name).value;
        document.getElementById(name).value = formatToString(writtenName);
        //var writtenName = document.getElementById('nomyape').value;
        //document.getElementById('nomyape').value = formatToString(writtenName);
    }

    function formatToString(writtenName) {
        var tmp = writtenName.split(" ");
        var fullName;
        tmp.forEach(element => {
            if (fullName) {
                fullName = fullName + " " + element.charAt(0).toUpperCase() + element.slice(1).toLocaleLowerCase();
            } else {
                fullName = element.charAt(0).toUpperCase() + element.slice(1).toLocaleLowerCase();
            }
        })
        return fullName;
    }

    // Arregla el problema de error al elegir mas de 8 fotos
    function onSelect(e) {
        if (e.files.length > 8) {
            alert("Solo se pueden seleccionar 8 Fotos.");
            e.preventDefault();
        }
    }

    function ponerminuscula(minus) {
        let ex = document.getElementById(minus);
        ex.value = ex.value.toLowerCase();
        //let y = document.getElementById("adrema");
        //y.value = y.value.toLowerCase();
    }

    function PonerMayuscula(mayus) {
        let ex = document.getElementById(mayus);
        ex.value = ex.value.toUpperCase();
    }

</script>

<div class="col-md-7 mx-auto">
    <div class="card" style="font-style: italic;font-weight: bold;">
        <div class="card-header mx-auto">
            <h3>Editar Actuación</h3>
        </div>
        <div class="card-body">
            <form action="/actuacion/editactuacion/{{planiregactuainf._id}}?_method=PUT" method="POST">
                <div class="form-group" style="color:brown; font-style:oblique; font-weight: bold;">
                    Fecha Inicio Tramite
                    <input type="text" name="fechainiciotramite" class="form-control" placeholder="Sin Información"
                        value="{{planiregactuainf.fechainiciotramite}}" style="color: black; font-weight: bold;"
                        disabled>
                </div>
                <div class="form-group" style="color:brown; font-style:oblique; font-weight: bold;">
                    Lugar Actuación:
                    <input type="text" class="form-control" id="sectortraido" name="sectortraido"
                        value="{{planiregactuainf.lugartipo }}" style="color: #3d0ee7; font-weight: bold;" readonly />
                    Cambiar Lugar Actuación:
                    <p style="color:brown; font-style:oblique; font-weight: bold;">
                        <select name="lugartipo">
                            <option>{{planiregactuainf.lugartipo}}</option>
                        </select>
                    </p>
                </div>
                <div class="form-group" style="color:brown; font-style:oblique; font-weight: bold;">
                    Propietario
                    <input type="text"  onkeyup="ShowName('propietario')" id="propietario" name="propietario" class="form-control" placeholder="Sin Información"
                        value="{{planiregactuainf.propietario}}" style="color: black; font-weight: bold;">
                </div>
                <div class="form-group" style="color:brown; font-style:oblique; font-weight: bold;">
                    Cuit / DNI
                    <input type="text" onkeyup="PonerMayuscula('cuitdni')" id="cuitdni" name="cuitdni" class="form-control" placeholder="Sin Información"
                        value="{{planiregactuainf.cuitdni}}" style="color: black; font-weight: bold;">
                </div>
                <div class="form-group" style="color:brown; font-style:oblique; font-weight: bold;">
                    Dirección
                    <input onkeyup="ShowName('direccion')" type="text" id="direccion" name="direccion" class="form-control" placeholder="Sin Información"
                        value="{{planiregactuainf.direccion}}" style="color: black; font-weight: bold;">
                </div>
                <div class="form-group" style="color:brown; font-style:oblique; font-weight: bold;">
                    Adrema N°
                    <input onkeyup="PonerMayuscula('adrema')" type="text" id="adrema" name="adrema" class="form-control" placeholder="Sin Información"
                        value="{{planiregactuainf.adrema}}" style="color: black; font-weight: bold;">
                </div>
                <div class="form-group" style="color:brown; font-style:oblique; font-weight: bold;">
                    Inspector (N y A)
                    <input onkeyup="ShowName('inspector')" id="inspector"  name="inspector" type="text"  class="form-control" style="color: black; font-weight: bold;"
                        value="{{planiregactuainf.inspector}}" style="color: black; font-weight: bold;">

                </div>
                <div class="form-group" style="color:brown; font-style:oblique; font-weight: bold;">
                    Zona
                    <input onkeyup="PonerMayuscula('zona')" type="number" id="zona" name="zona" class="form-control" placeholder="Sin Información"
                        value="{{planiregactuainf.zona}}" style="color: black; font-weight: bold;">
                </div>
                <div class="form-group" style="color:brown; font-style:oblique; font-weight: bold;">
                    Descripción
                    <input type="text" name="descripcion" class="form-control" placeholder="Sin Información"
                        value="{{planiregactuainf.descripcion}}" style="color: black; font-weight: bold;">
                </div>
                <div class="form-group" style="color:brown; font-style:oblique; font-weight: bold;">
                    Nº intimación
                    <input type="text" onkeyup="PonerMayuscula('numerointimacion')" id="numerointimacion" name="numerointimacion" class="form-control" placeholder="Sin Información"
                        value="{{planiregactuainf.numerointimacion}}" style="color: black; font-weight: bold;">
                </div>
                <div class="form-group" style="color:brown; font-style:oblique; font-weight: bold;">
                    Tipo de Acta
                    <input type="text" name="tipoacta" class="form-control" placeholder="Sin Información"
                        value="{{planiregactuainf.tipoacta}}" style="color: black; font-weight: bold;">
                </div>
                {{!-- <div class="form-group" style="color:brown; font-style:oblique; font-weight: bold;">
                    Fecha Inspección Actual
                    <input type="text" name="inspecfecha" class="form-control" placeholder="Sin Información"
                        value="{{planiregactuainf.inspecfecha}}" style="color: black; font-weight: bold;">
                </div> --}}
                <div class="form-group" style="color:brown; font-style:oblique; font-weight: bold;">
                    Observaciones
                    <input type="text" name="observacion" class="form-control" placeholder="Sin Información"
                        value="{{planiregactuainf.observacion}}" style="color: black; font-weight: bold;"></input>
                </div>
                <div class="form-group" style="color:brown; font-style:oblique; font-weight: bold;">
                    Expediente N°
                    <input onkeyup="PonerMayuscula('expediente')" type="text" id="expediente" name="expediente" name="expediente" class="form-control" placeholder="Sin Información"
                        value="{{planiregactuainf.expediente}}" style="color: black; font-weight: bold;">
                </div>
                <div class="form-group" style="color:brown; font-style:oblique; font-weight: bold;">
                    Número de Faja
                    <input onkeyup="PonerMayuscula('numfaja')" type="text" id="numfaja" name="numfaja" class="form-control" placeholder="Sin Información"
                        value="{{planiregactuainf.numfaja}}" style="color: black; font-weight: bold;">
                </div>
                <div class="form-group" style="color:brown; font-style:oblique; font-weight: bold;">
                    Acta Reiterada
                    <input type="text" name="actareiterada" class="form-control" placeholder="Sin Información"
                        value="{{planiregactuainf.actareiterada}}" style="color: black; font-weight: bold;" />
                </div>
                <label style="color:brown; font-weight:bold">Fotos Inspección::</label>
                <br />
                <div class="form-group">
                    <label style="font-weight:bold">Fotos 1:</label>
                    <br />
                    <a href="{{planiregactuainf.path}}" target="_blank">
                        <img style="border-radius:30px;" src="{{planiregactuainf.path}}" alt="_Imagen No Cargada"
                            width="250" height="300">
                    </a>
                </div>
                <div class="form-group">
                    <label style="font-weight:bold">Foto 2:</label>
                    <br />
                    <a href="{{planiregactuainf.pathdos}}" target="_blank">
                        <img style="border-radius:30px;" src="{{planiregactuainf.pathdos}}" alt="_Imagen No Cargada"
                            width="250" height="300">
                    </a>

                </div>
                <div class="form-group">
                    <label style="font-weight:bold">Foto 3:</label>
                    <br />
                    <a href="{{planiregactuainf.pathtres}}" target="_blank">
                        <img style="border-radius:30px;" src="{{planiregactuainf.pathtres}}" alt="_Imagen No Cargada"
                            width="250" height="300">
                    </a>
                </div>
                <div id="myDIV" class="form-group">
                    <label style="font-weight:bold">Foto 4:</label>
                    <br />
                    <a href="{{planiregactuainf.pathcuatro}}" target="_blank">
                        <img style="border-radius:30px;" src="{{planiregactuainf.pathcuatro}}" alt="_Imagen No Cargada"
                            width="250" height="300">
                    </a>
                </div>
                <div class="form-group">
                    <label style="font-weight:bold">Foto 5:</label>
                    <br />
                    <a href="{{planiregactuainf.pathcinco}}" target="_blank">
                        <img style="border-radius:30px;" src="{{planiregactuainf.pathcinco}}" alt="_Imagen No Cargada"
                            width="250" height="300">
                    </a>

                </div>
                <div class="form-group">
                    <label style="font-weight:bold">Foto 6:</label>
                    <br />
                    <a href="{{planiregactuainf.pathseis}}" target="_blank">
                        <img style="border-radius:30px;" src="{{planiregactuainf.pathseis}}" alt="_Imagen No Cargada"
                            width="250" height="300">
                    </a>

                </div>
                <div class="form-group">
                    <label style="font-weight:bold">Foto 7:</label>
                    <br />
                    <a href="{{planiregactuainf.pathsiete}}" target="_blank">
                        <img style="border-radius:30px;" src="{{planiregactuainf.pathsiete}}" alt="_Imagen No Cargada"
                            width="250" height="300">
                    </a>
                </div>
                <div class="form-group">
                    <label style="font-weight:bold">Foto 8:</label>
                    <br />
                    <a href="{{planiregactuainf.pathocho}}" target="_blank">
                        <img style="border-radius:30px;" src="{{planiregactuainf.pathocho}}" alt="_Imagen No Cargada"
                            width="250" height="300">
                    </a>
                </div>
                {{!-- <img style="border-radius:30px;" src="{{planiregactuainf.path}}" width="400" /> <br /><br /> --}}
                <div class="form-group" style="color:grey; font-style:oblique; font-weight: bold;">
                    Usuario Carga Actuación
                    <input type="text" name="user" class="form-control" placeholder="Sin Información"
                        value="{{planiregactuainf.user}}" style="color: grey" readonly />
                </div>
                <div class="form-group" style="color:grey; font-style:oblique; font-weight: bold;">
                    Fecha Carga Actuación
                    <input type="text" name="name" class="form-control" placeholder="Sin Información"
                        value="{{planiregactuainf.date}}" style="color: grey" readonly />
                </div>
                <div class="form-group">
                    <button class="btn btn-danger btn-block" type="submit">
                        Grabar
                    </button>
                </div>
            </form>
            <br />
            <a href="javascript:window.history.back();" style="color:blue; font-weight: bold;">
                &laquo; Volver Atrás
            </a>
        </div>
    </div>

</div>